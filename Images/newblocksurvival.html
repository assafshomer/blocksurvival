<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  /*display: none;*/
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}

.legend rect {
  fill:white;
  stroke:black;
  opacity:0.8;
}

.title{
  font-size: 50;
  font-weight: bold;
}

</style>
<link href="newblocksurvival_files/clip_result_iframe.css" type="text/css" rel="stylesheet"><link href="newblocksurvival_files/contentpreview.css" type="text/css" rel="stylesheet"></head><body>
<script src="newblocksurvival_files/d3_002.js"></script>
<script src="newblocksurvival_files/d3.js"></script>
<script>

var margin = {top: 100, right: 150, bottom: 100, left: 100},
    width = 800 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

// var parseDate = d3.time.format("%Y%m%d").parse;

var x = d3.scale.linear()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var color = d3.scale.category10();

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left");

var line = d3.svg.line()
    .interpolate("basis")
    .x(function(d) { return x(d.p); })
    .y(function(d) { return y(d.probability); });

var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.tsv("./CSV/newblocksurvive.csv", function(error, data) {
  color.domain(d3.keys(data[0]).filter(function(key) { return key !== "q"; })); // change label 

  // data.forEach(function(d) {
  //   d.p = parseDate(d.p);
  // });

  var cities = color.domain().map(function(name) {
    return {
      name: name,
      values: data.map(function(d) {
        return {p: d.q, probability: +d[name]};// change label 
      })
    };
  });

  x.domain(d3.extent(data, function(d) { return d.q; })); // change label 

  y.domain([
    d3.min(cities, function(c) { return d3.min(c.values, function(v) { return v.probability; }); }),
    d3.max(cities, function(c) { return d3.max(c.values, function(v) { return v.probability; }); })
  ]);

  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
    .append("text")
    .attr("transform", "translate(" + 2/3*width + "," + 50 + ")")
      .style("text-anchor", "end")
      .attr("font-size","3em")
      .attr("opacity",0.2)
      .text("Attackers Share  q");      

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -35)
      .attr("x",-height/5)
      // .attr("dy", "5em")
      .style("text-anchor", "end")
      .attr("font-size","3em")
      .attr("opacity",0.2)
      .text("Probability");

    // svg.selectAll("text.title").data([1]).enter().append("text")
    // .attr("font-size","3em")
    // .attr("transform", "translate(" + width/3 + "," + -25 + ")")
    // .text("foobar");

  svg.append("text")
    .attr("x", (width / 2))             
    .attr("y", 0 - (margin.top / 2))
    .attr("text-anchor", "middle")  
    .style("font-size", "3em") 
    .style("font-family",'sans-serif')
    // .style("font-weight","bold")
    // .style("text-decoration", "italic")  
    .text("Block production probability");

  var city = svg.selectAll(".city")
      .data(cities)
    .enter().append("g")
      .attr("class", "city");

  city.append("path")
      .attr("class", "line")
      .attr("d", function(d) { return line(d.values); })
      .attr("data-legend",function(d) { return d.name})
      .attr("title", function(d) {return d.name})
      .style("stroke", function(d) { return color(d.name); });

  // city.append("text")
  //     .datum(function(d) { return {name: d.name, value: d.values[d.values.length - 4]}; })
  //     .attr("transform", function(d) { return "translate(" + x(d.value.p) + "," + y(d.value.probability) + ")"; })
  //     .attr("x", 3)
  //     .attr("dy", ".35em")
  //     .text(function(d) { return d.name; });

  legend = svg.append("g")
    .attr("class","legend")
    .attr("transform","translate("+(50)+",30)")
    .style("font-size","10px")
    .call(d3.legend)

});

</script><svg height="600" width="800"><g transform="translate(100,100)"><g transform="translate(0,400)" class="x axis"><g transform="translate(0,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.0</text></g><g transform="translate(55,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.1</text></g><g transform="translate(110,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.2</text></g><g transform="translate(165,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.3</text></g><g transform="translate(220,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.4</text></g><g transform="translate(275,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.5</text></g><g transform="translate(330,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.6</text></g><g transform="translate(385,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.7</text></g><g transform="translate(440,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.8</text></g><g transform="translate(495,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">0.9</text></g><g transform="translate(550,0)" style="opacity: 1;" class="tick"><line x2="0" y2="6"></line><text style="text-anchor: middle;" dy=".71em" x="0" y="9">1.0</text></g><path d="M0,6V0H550V6" class="domain"></path><text opacity="0.2" font-size="3em" style="text-anchor: end;" transform="translate(366.66666666666663,50)">Attackers Share  q</text></g><g class="y axis"><g transform="translate(0,400)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.0</text></g><g transform="translate(0,360)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.1</text></g><g transform="translate(0,320)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.2</text></g><g transform="translate(0,280)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.3</text></g><g transform="translate(0,240)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.4</text></g><g transform="translate(0,200)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.5</text></g><g transform="translate(0,160)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.6</text></g><g transform="translate(0,120)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.7</text></g><g transform="translate(0,80)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.8</text></g><g transform="translate(0,40)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">0.9</text></g><g transform="translate(0,0)" style="opacity: 1;" class="tick"><line y2="0" x2="-6"></line><text style="text-anchor: end;" dy=".32em" y="0" x="-9">1.0</text></g><path d="M-6,0H0V400H-6" class="domain"></path><text opacity="0.2" font-size="3em" style="text-anchor: end;" x="-80" y="-35" transform="rotate(-90)">Probability</text></g><text style="font-size: 3em; font-family: sans-serif;" text-anchor="middle" y="-50" x="275">Block production probability</text><g class="city"><path style="stroke: rgb(31, 119, 180);" title="Honest - q" data-legend="Honest - q" d="M0,400L1.8333333333333333,398.6666666666666C3.6666666666666665,397.33333333333326,7.333333333333333,394.66666666666663,11,392C14.666666666666666,389.3333333333333,18.333333333333332,386.66666666666663,22,384C25.666666666666664,381.3333333333333,29.333333333333332,378.66666666666663,33,375.99999999999994C36.666666666666664,373.3333333333333,40.33333333333333,370.66666666666663,43.99999999999999,368C47.666666666666664,365.3333333333333,51.33333333333333,362.66666666666663,55,360C58.666666666666664,357.3333333333333,62.33333333333333,354.66666666666663,66,351.99999999999994C69.66666666666667,349.3333333333333,73.33333333333334,346.66666666666663,77.00000000000001,344C80.66666666666667,341.3333333333333,84.33333333333334,338.66666666666663,88,336C91.66666666666666,333.3333333333333,95.33333333333333,330.66666666666663,99,327.99999999999994C102.66666666666666,325.3333333333333,106.33333333333333,322.66666666666663,110,320C113.66666666666666,317.3333333333333,117.33333333333331,314.66666666666663,120.99999999999999,312C124.66666666666666,309.3333333333333,128.33333333333331,306.66666666666663,132,304C135.66666666666666,301.3333333333333,139.33333333333331,298.66666666666663,143,296C146.66666666666669,293.3333333333333,150.33333333333334,290.66666666666663,154,288C157.66666666666669,285.3333333333333,161.33333333333334,282.66666666666663,165.00000000000003,280C168.66666666666666,277.3333333333333,172.33333333333331,274.66666666666663,175.99999999999997,272C179.66666666666666,269.3333333333333,183.33333333333331,266.66666666666663,187,264C190.66666666666666,261.3333333333333,194.33333333333331,258.66666666666663,198,256C201.66666666666666,253.33333333333331,205.33333333333331,250.66666666666663,208.99999999999997,247.99999999999997C212.66666666666663,245.33333333333331,216.33333333333331,242.66666666666666,220,239.99999999999997C223.66666666666666,237.33333333333331,227.33333333333331,234.66666666666666,231,232C234.66666666666666,229.33333333333331,238.33333333333331,226.66666666666663,241.99999999999997,223.99999999999997C245.66666666666663,221.33333333333331,249.33333333333331,218.66666666666666,253,215.99999999999997C256.66666666666663,213.33333333333331,260.3333333333333,210.66666666666666,264,208C267.66666666666663,205.33333333333331,271.3333333333333,202.66666666666663,275,199.99999999999997C278.66666666666663,197.33333333333331,282.3333333333333,194.66666666666666,286,191.99999999999997C289.66666666666663,189.33333333333331,293.3333333333333,186.66666666666666,297,184C300.6666666666667,181.33333333333331,304.33333333333337,178.66666666666663,308.00000000000006,175.99999999999997C311.6666666666667,173.33333333333331,315.33333333333337,170.66666666666669,319,168C322.66666666666663,165.33333333333334,326.3333333333333,162.66666666666666,330,160C333.66666666666663,157.33333333333331,337.3333333333333,154.66666666666666,341,152C344.66666666666663,149.33333333333331,348.3333333333333,146.66666666666666,352,144C355.66666666666663,141.33333333333331,359.3333333333333,138.66666666666666,363,136C366.66666666666663,133.33333333333331,370.3333333333333,130.66666666666666,374,128C377.66666666666663,125.33333333333333,381.33333333333326,122.66666666666666,384.99999999999994,120C388.66666666666663,117.33333333333333,392.3333333333333,114.66666666666666,395.99999999999994,111.99999999999999C399.66666666666663,109.33333333333331,403.3333333333333,106.66666666666666,407,104C410.66666666666663,101.33333333333333,414.33333333333326,98.66666666666666,417.99999999999994,96C421.66666666666663,93.33333333333333,425.3333333333333,90.66666666666666,428.99999999999994,87.99999999999999C432.66666666666663,85.33333333333333,436.3333333333333,82.66666666666666,440,80C443.66666666666663,77.33333333333333,447.33333333333326,74.66666666666666,450.99999999999994,72C454.66666666666663,69.33333333333333,458.3333333333333,66.66666666666666,461.99999999999994,64C465.66666666666663,61.33333333333333,469.3333333333333,58.66666666666666,473,55.99999999999999C476.66666666666663,53.33333333333333,480.33333333333326,50.666666666666664,483.99999999999994,47.99999999999999C487.66666666666663,45.33333333333333,491.3333333333333,42.666666666666664,494.99999999999994,40C498.66666666666663,37.33333333333333,502.3333333333333,34.666666666666664,506,32C509.66666666666663,29.333333333333332,513.3333333333333,26.666666666666664,517,24C520.6666666666666,21.333333333333332,524.3333333333333,18.666666666666664,528,16C531.6666666666666,13.333333333333332,535.3333333333333,10.666666666666666,539,8C542.6666666666666,5.333333333333333,546.3333333333333,2.6666666666666665,548.1666666666666,1.3333333333333333L550,0" class="line"></path></g><g class="city"><path style="stroke: rgb(255, 127, 14);" title="Withholding - P(q)" data-legend="Withholding - P(q)" d="M0,400L1.8333333333333333,399.91945578231287C3.6666666666666665,399.8389115646258,7.333333333333333,399.67782312925164,11,399.3533786848072C14.666666666666666,399.0289342403628,18.333333333333332,398.54113378684804,22,397.8863588555989C25.666666666666664,397.2315839243499,29.333333333333332,396.40983451536647,33,395.41717751053557C36.666666666666664,394.4245205057046,40.33333333333333,393.2609559050262,43.99999999999999,391.9222009798883C47.666666666666664,390.58344605475037,51.33333333333333,389.0695008051529,55,387.37569316351914C58.666666666666664,385.6818855218855,62.33333333333333,383.80821548821547,66,381.749576383995C69.66666666666667,379.6909372797745,73.33333333333334,377.4473291050035,77.00000000000001,375.0131588308333C80.66666666666667,372.578988556663,84.33333333333334,369.95425618309343,88,367.13282301992456C91.66666666666666,364.3113898567557,95.33333333333333,361.2932559039876,99,358.0716686024003C102.66666666666666,354.850081300813,106.33333333333333,351.42504065040646,110,347.7891015217844C113.66666666666666,344.15316239316235,117.33333333333331,340.30632478632475,120.99999999999999,336.24035987404403C124.66666666666666,332.17439496176337,128.33333333333331,327.8893027440396,132,323.3759647907016C135.66666666666666,318.8626268373637,139.33333333333331,314.12104314841156,143,309.1410821347663C146.66666666666669,304.1611211211211,150.33333333333334,298.94278278278273,154,293.4747776347776C157.66666666666669,288.00677248677243,161.33333333333334,282.2891005291005,165.00000000000003,276.30914410208527C168.66666666666666,270.32918767507,172.33333333333331,264.0869467787114,175.99999999999997,257.568274340039C179.66666666666666,251.04960190136657,183.33333333333331,244.25449792038023,187,237.1670469399881C190.66666666666666,230.07959595959593,194.33333333333331,222.69979797979798,198,215.00968393613556C201.66666666666666,207.3195698924731,205.33333333333331,199.31913978494623,208.99999999999997,190.9880286738351C212.66666666666663,182.65691756272395,216.33333333333331,173.9951254480286,220,164.97947843282654C223.66666666666666,155.96383141762448,227.33333333333331,146.59432950191572,231,136.84448823207447C234.66666666666666,127.09464696223321,238.33333333333331,116.96446633825947,241.99999999999997,106.42353828376818C245.66666666666663,95.8826102292769,249.33333333333331,84.93093474426809,253,73.53342558675892C256.66666666666663,62.13591642924975,260.3333333333333,50.292573599240235,264,37.96269705603036C267.66666666666663,25.63282051282048,271.3333333333333,12.81641025641024,275,6.40820512820512C278.66666666666663,0,282.3333333333333,0,286,0C289.66666666666663,0,293.3333333333333,0,297,0C300.6666666666667,0,304.33333333333337,0,308.00000000000006,0C311.6666666666667,0,315.33333333333337,0,319,0C322.66666666666663,0,326.3333333333333,0,330,0C333.66666666666663,0,337.3333333333333,0,341,0C344.66666666666663,0,348.3333333333333,0,352,0C355.66666666666663,0,359.3333333333333,0,363,0C366.66666666666663,0,370.3333333333333,0,374,0C377.66666666666663,0,381.33333333333326,0,384.99999999999994,0C388.66666666666663,0,392.3333333333333,0,395.99999999999994,0C399.66666666666663,0,403.3333333333333,0,407,0C410.66666666666663,0,414.33333333333326,0,417.99999999999994,0C421.66666666666663,0,425.3333333333333,0,428.99999999999994,0C432.66666666666663,0,436.3333333333333,0,440,0C443.66666666666663,0,447.33333333333326,0,450.99999999999994,0C454.66666666666663,0,458.3333333333333,0,461.99999999999994,0C465.66666666666663,0,469.3333333333333,0,473,0C476.66666666666663,0,480.33333333333326,0,483.99999999999994,0C487.66666666666663,0,491.3333333333333,0,494.99999999999994,0C498.66666666666663,0,502.3333333333333,0,506,0C509.66666666666663,0,513.3333333333333,0,517,0C520.6666666666666,0,524.3333333333333,0,528,0C531.6666666666666,0,535.3333333333333,0,539,0C542.6666666666666,0,546.3333333333333,0,548.1666666666666,0L550,0" class="line"></path></g><g style="font-size: 10px;" transform="translate(50,30)" class="legend"><rect width="113" height="33" y="-15" x="-9" class="legend-box"></rect><g class="legend-items"><text x="1em" y="0em">Honest - q</text><text x="1em" y="1em">Withholding - P(q)</text><circle style="fill: rgb(31, 119, 180);" r="0.4em" cx="0" cy="-0.25em"></circle><circle style="fill: rgb(255, 127, 14);" r="0.4em" cx="0" cy="0.75em"></circle></g></g></g></svg></body></html>